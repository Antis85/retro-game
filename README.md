[![Build status](https://ci.appveyor.com/api/projects/status/wvag0f4aay8pcgcn/branch/master?svg=true)](https://ci.appveyor.com/project/Antis85/js-advanced-diploma/branch/master)

# Retro Game
[Open app](https://antis85.github.io/retro-game)

## Технологии

+ Html *(предоставлена готовая реализация)*
+ CSS *(предоставлена готовая реализация)*
+ Javascript
+ ООП
+ Unit-testing

## Инфраструктура проекта

Установлены и настроены Webpack, Webpack DevServer, Babel, ESLint, Jest.
CI - Appveyor.
Проект развернут на GitHub Pages.

## Основные модули

1. GamePlay - класс, отвечающий за взаимодействие с HTML-страницей *(был предварительно предоставлен уже написанный)*
2. GameController - класс, отвечающий за логику приложения
3. Character - базовый класс, на основании которого реализуются специализированные персонажи
4. GameState - объект, который хранит текущее состояние игры (может сам себя воссоздавать из другого объекта)
5. GameStateService - объект, который взаимодействует с текущим состоянием (сохраняет его, чтобы оно не потерялось при перезагрузке страницы, может экспортировать в файл или загрузить из файла)
6. PositionedCharacter - персонаж, привязанный к координате на поле
7. Team - класс для команды (набор персонажей), представляющих компьютер и игрока
8. generators - модуль, содержащий вспомогательные функции для генерации команды и персонажей

## Концепция игры

Двухмерная игра в стиле фэнтези, где игроку предстоит выставлять своих персонажей против персонажей нечисти. После каждого раунда, восстанавливается жизнь уцелевших персонажей игрока и повышается их уровень. Максимальный уровень - 4.

## Механика

Размер поля фиксирован (8x8). Направление движения аналогично ферзю в шахматах. Персонажи разного типа могут ходить на разное расстояние (можно перескакивать через других персонажей - т.е. как конь в шахматах, единственно - ходим по прямым и по диагонали):
* Мечники/Скелеты - 4 клетки в любом направлении
* Лучники/Вампиры - 2 клетки в любом направлении
* Маги/Демоны - 1 клетка в любом направлении

![](https://i.imgur.com/yp8vjhL.jpg)

Дальность атаки так же ограничена:
* Мечники/Скелеты - могут атаковать только соседнюю клетку
* Лучники/Вампиры - на ближайшие 2 клетки
* Маги/Демоны - на ближайшие 4 клетки

Клетки считаются "по радиусу", допустим для мечника зона поражения будет выглядеть вот так:

![](https://i.imgur.com/gJ8DXPU.jpg)

Для лучника(отмечено красным):

![](https://i.imgur.com/rIINaFD.png)


Игрок и компьютер последовательно выполняют по одному игровому действию, после чего управление передаётся противостоящей стороне. Как это выглядит:
1. Выбирается собственный персонаж (для этого на него необходимо кликнуть левой кнопкой мыши)
2. Далее возможен один из двух вариантов:
    1. Перемещение: выбирается свободное поле, на которое можно передвинуть персонажа (для этого на поле необходимо кликнуть левой кнопкой мыши)
    2. Атака: выбирается поле с противником, которое можно атаковать с учётом ограничений по дальности атаки (для этого на персонаже противника необходимо кликнуть левой кнопкой мыши)
    
Игра заканчивается тогда, когда все персонажи игрока погибают, либо выигран максимальный 4 уровень.

Уровень завершается выигрышем игрока тогда, когда все персонажи компьютера погибли.
